(this["webpackJsonptravel-mate"]=this["webpackJsonptravel-mate"]||[]).push([[0],{100:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(8),l=a.n(s),r=(a(99),a(100),a(164)),c=a(162),o=a(84),d=a(152),j=a(153),p=a(154),b=a(166),u=a(167),m=a(78),h=a.n(m),g=a(150),x=a(11),v=Object(g.a)((e=>({title:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(x.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(x.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(3),width:"auto"}},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("md")]:{width:"20ch"}},toolbar:{display:"flex",justifyContent:"space-between"}}))),O=a(5);var y=e=>{let{setCoordinates:t}=e;const a=v(),[i,s]=Object(n.useState)();return Object(O.jsx)(d.a,{position:"static",children:Object(O.jsxs)(j.a,{className:a.toolbar,children:[Object(O.jsx)(p.a,{variant:"h5",className:a.title,children:"Travel Buddy"}),Object(O.jsxs)(b.a,{display:"flex",children:[Object(O.jsx)(p.a,{variant:"h6",className:a.title,children:"Explore new places"}),Object(O.jsx)(o.a,{onLoad:e=>s(e),onPlaceChanged:()=>{var e,a;const n=null===(e=i.getPlace().geometry)||void 0===e?void 0:e.location.lat(),s=null===(a=i.getPlace().geometry)||void 0===a?void 0:a.location.lng();t({lat:n,lng:s})},children:Object(O.jsxs)("div",{className:a.search,children:[Object(O.jsx)("div",{className:a.searchIcon,children:Object(O.jsx)(h.a,{})}),Object(O.jsx)(u.a,{placeholder:"Search...",classes:{root:a.inputRoot,input:a.inputInput}})]})})]})]})})},f=a(160),w=a(161),C=a(170),T=a(165),k=a(171),N=a(155),S=a(156),B=a(157),R=a(169),_=a(158),I=a(159),z=a(79),E=a.n(z),P=a(80),A=a.n(P),L=a(168),D=Object(g.a)((()=>({chip:{margin:"5px 5px 5px 0"},subtitle:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"10px"},spacing:{display:"flex",alignItems:"center",justifyContent:"space-between"}})));var F=e=>{var t;let{place:a,selected:i,refProp:s}=e;const{name:l,photo:r,price_level:c,ranking:o,awards:d,cuisine:j,address:u,phone:m,distance_string:h,web_url:g,website:x,rating:v,num_reviews:y}=a,f=D();return i&&(null===s||void 0===s||null===(t=s.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"start"})),Object(O.jsx)(n.Fragment,{children:l&&Object(O.jsxs)(N.a,{elevation:6,children:[Object(O.jsx)(S.a,{style:{height:350},image:r?r.images.large.url:"https://www.foodserviceandhospitality.com/wp-content/uploads/2016/09/Restaurant-Placeholder-001.jpg",title:l}),Object(O.jsxs)(B.a,{children:[Object(O.jsxs)(p.a,{gutterBottom:!0,variant:"h6",children:[l," (",h,")"]}),Object(O.jsxs)(b.a,{display:"flex",justifyContent:"space-between",my:2,children:[Object(O.jsx)(L.a,{name:"read-only",value:Number(v),readOnly:!0}),Object(O.jsxs)(p.a,{component:"legend",children:[y," review",y>1&&"s"]})]}),Object(O.jsxs)(b.a,{display:"flex",justifyContent:"space-between",children:[Object(O.jsx)(p.a,{variant:"subtitle1",children:"Price"}),Object(O.jsx)(p.a,{gutterBottom:!0,variant:"subtitle1",children:c})]}),Object(O.jsxs)(b.a,{display:"flex",justifyContent:"space-between",children:[Object(O.jsx)(p.a,{variant:"subtitle1",children:"Ranking"}),Object(O.jsx)(p.a,{gutterBottom:!0,variant:"subtitle1",children:o})]}),null===d||void 0===d?void 0:d.filter(((e,t)=>t<3)).map((e=>Object(O.jsxs)(b.a,{my:1,display:"flex",justifyContent:"space-between",children:[Object(O.jsx)("img",{src:e.images.small,alt:e.display_name}),Object(O.jsx)(p.a,{variant:"subtitle2",color:"textSecondary",children:e.display_name})]},e.display_name))),null===j||void 0===j?void 0:j.map((e=>{let{name:t}=e;return Object(O.jsx)(R.a,{size:"small",label:t,className:f.chip},t)})),u&&Object(O.jsxs)(p.a,{gutterBottom:!0,variant:"subtitle2",color:"textSecondary",className:f.subtitle,children:[Object(O.jsx)(E.a,{})," ",u]}),m&&Object(O.jsxs)(p.a,{gutterBottom:!0,variant:"subtitle2",color:"textSecondary",className:f.spacing,children:[Object(O.jsx)(A.a,{})," ",m]}),Object(O.jsxs)(_.a,{children:[g&&Object(O.jsx)(I.a,{size:"small",color:"primary",onClick:()=>window.open(g,"_blank"),children:"Trip Advisor"}),x&&Object(O.jsx)(I.a,{size:"small",color:"primary",onClick:()=>window.open(x,"_blank"),children:"Website"})]})]})]})})},H=Object(g.a)((e=>({formControl:{margin:e.spacing(1),minWidth:120,marginBottom:"30px"},selectEmpty:{marginTop:e.spacing(2)},loading:{height:"600px",display:"flex",justifyContent:"center",alignItems:"center"},container:{padding:"25px"},marginBottom:{marginBottom:"30px"},list:{height:"75vh",overflow:"auto"}})));var M=e=>{let{places:t,childClicked:a,isLoading:i,type:s,setType:l,rating:r,setRating:o}=e;const d=H(),[j,b]=Object(n.useState)([]);return Object(n.useEffect)((()=>{const e=Array(null===t||void 0===t?void 0:t.length).fill().map(((e,t)=>j[t]||Object(n.createRef)()));b(e)}),[t]),Object(O.jsxs)("div",{className:d.container,children:[Object(O.jsx)(p.a,{variant:"h5",children:"Restaurants, Hotels & Attractions around you"}),i?Object(O.jsx)("div",{className:d.loading,children:Object(O.jsx)(f.a,{size:"5rem"})}):Object(O.jsxs)(n.Fragment,{children:[Object(O.jsxs)(w.a,{className:d.formControl,children:[Object(O.jsx)(C.a,{children:"Type"}),Object(O.jsxs)(T.a,{value:s,onChange:e=>l(e.target.value),children:[Object(O.jsx)(k.a,{value:"restaurants",children:"Restaurants"}),Object(O.jsx)(k.a,{value:"hotels",children:"Hotels"}),Object(O.jsx)(k.a,{value:"attractions",children:"Attractions"})]})]}),Object(O.jsxs)(w.a,{className:d.formControl,children:[Object(O.jsx)(C.a,{children:"Rating"}),Object(O.jsxs)(T.a,{value:r,onChange:e=>o(e.target.value),children:[Object(O.jsx)(k.a,{value:0,children:"All"}),Object(O.jsx)(k.a,{value:3,children:"Above 3.0"}),Object(O.jsx)(k.a,{value:4,children:"Above 4.0"}),Object(O.jsx)(k.a,{value:4.5,children:"Above 4.5"})]})]}),Object(O.jsx)(p.a,{variant:"subtitle1",className:d.marginBottom,children:(null===t||void 0===t?void 0:t.length)>0?"Showing ".concat(t.length," results"):Object(O.jsx)("div",{className:d.loading,children:Object(O.jsx)(f.a,{size:"5rem"})})}),Object(O.jsx)(c.a,{container:!0,spacing:3,className:d.list,children:null===t||void 0===t?void 0:t.map(((e,t)=>Object(O.jsx)(c.a,{ref:j[t],item:!0,xs:12,children:Object(O.jsx)(F,{place:e,selected:Number(a)===t,refProp:j[t]})},t)))})]})]})},U=a(81),G=a(163),J=a(86),V=a(83),W=a.n(V),Y=Object(g.a)((()=>({paper:{padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",width:"100px"},mapContainer:{height:"85vh",width:"100%"},markerContainer:{position:"absolute",transform:"translate(-50%, -50%)",zIndex:1,"&:hover":{zIndex:2}},pointer:{cursor:"pointer",maxHeight:"5rem",marginBottom:"0.3rem"}}))),q=[{featureType:"all",elementType:"all",stylers:[{saturation:"32"},{lightness:"-3"},{visibility:"on"},{weight:"1.18"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{saturation:"-70"},{lightness:"14"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{saturation:"100"},{lightness:"-14"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"},{lightness:"12"}]}];var K=e=>{var t,a;let{coordinates:n,setCoordinates:i,setBounds:s,places:l,setChildClicked:r,weatherData:c}=e;const o=Y(),d=Object(G.a)("(min-width: 600px)");return Object(O.jsx)("div",{className:o.mapContainer,children:Object(O.jsxs)(U.a,{bootstrapURLKeys:{key:"AIzaSyDG3EiMBaMYuOPERLmTAHggmggGfiYQVqE"},defaultCenter:n,center:n,defaultZoom:14,margin:[50,50,50,50],options:{disableDefaultUI:!0,zoomControl:!0,styles:q},onChange:e=>{i({lat:e.center.lat,lng:e.center.lng}),s({ne:e.marginBounds.ne,sw:e.marginBounds.sw})},onChildClick:e=>{r(e)},children:[null===l||void 0===l?void 0:l.map(((e,t)=>Object(O.jsx)("div",{className:o.markerContainer,lat:Number(e.latitude),lng:Number(e.longitude),children:d?Object(O.jsx)(O.Fragment,{children:e.name&&Object(O.jsxs)(J.a,{elevation:3,className:o.paper,children:[Object(O.jsx)(p.a,{className:o.typography,variant:"subtitle2",gutterBottom:!0,children:e.name}),Object(O.jsx)("img",{className:o.pointer,alt:e.name,src:e.photo?e.photo.images.large.url:"https://www.foodserviceandhospitality.com/wp-content/uploads/2016/09/Restaurant-Placeholder-001.jpg"}),Object(O.jsx)(L.a,{size:"small",value:Number(e.rating),readOnly:!0})]})}):Object(O.jsx)(W.a,{color:"primary",fontSize:"large"})},t))),(null===c||void 0===c||null===(t=c.list)||void 0===t?void 0:t.length)&&(null===c||void 0===c||null===(a=c.list)||void 0===a?void 0:a.map(((e,t)=>Object(O.jsx)("div",{lat:null===e||void 0===e?void 0:e.coord.lat,lng:null===e||void 0===e?void 0:e.coord.lon,children:Object(O.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),height:"70px",alt:"weather-icon"})},t))))]})})},Q=a(61),Z=a.n(Q);var X=function(){const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)([]),[s,l]=Object(n.useState)([]),[o,d]=Object(n.useState)({}),[j,p]=Object(n.useState)(),[b,u]=Object(n.useState)(),[m,h]=Object(n.useState)(!1),[g,x]=Object(n.useState)("restaurants"),[v,f]=Object(n.useState)("");return Object(n.useEffect)((()=>{navigator.geolocation.getCurrentPosition((e=>{let{coords:{latitude:t,longitude:a}}=e;d({lat:t,lng:a})}),(e=>{alert("Please turn on your location access and refresh the page to continue.")}))}),[]),Object(n.useEffect)((()=>{(null===j||void 0===j?void 0:j.sw)&&(null===j||void 0===j?void 0:j.ne)&&(h(!0),(async(e,t)=>{try{if(e&&t){const{data:a}=await Z.a.get("https://community-open-weather-map.p.rapidapi.com/find",{params:{lat:e,lon:t},headers:{"x-rapidapi-host":"community-open-weather-map.p.rapidapi.com","x-rapidapi-key":"bf12fb5ffamsh63ac3f89dc1359bp1f764djsn8028934d282f"}});return a}}catch(a){console.error(a)}})(o.lat,o.lng).then((e=>i(e))),(async(e,t,a)=>{try{const{data:{data:n}}=await Z.a.get("https://travel-advisor.p.rapidapi.com/".concat(e,"/list-in-boundary"),{url:URL,params:{bl_latitude:t.lat,tr_latitude:a.lat,bl_longitude:t.lng,tr_longitude:a.lng},headers:{"x-rapidapi-host":"travel-advisor.p.rapidapi.com","x-rapidapi-key":"bf12fb5ffamsh63ac3f89dc1359bp1f764djsn8028934d282f"}});return n}catch(n){console.error(n)}})(g,j.sw,j.ne).then((e=>{t(null===e||void 0===e?void 0:e.filter((e=>e.name&&e.num_reviews>0))),h(!1)})))}),[g,j]),Object(n.useEffect)((()=>{const t=null===e||void 0===e?void 0:e.filter((e=>e.rating>v));l(t)}),[v]),Object(O.jsxs)(n.Fragment,{children:[Object(O.jsx)(r.a,{}),Object(O.jsx)(y,{setCoordinates:d}),Object(O.jsxs)(c.a,{container:!0,spacing:3,style:{width:"100%"},children:[Object(O.jsx)(c.a,{item:!0,xs:12,md:4,children:Object(O.jsx)(M,{places:s.length?s:e,childClicked:b,isLoading:m,type:g,setType:x,rating:v,setRating:f})}),Object(O.jsx)(c.a,{item:!0,xs:12,md:8,children:Object(O.jsx)(K,{coordinates:o,setCoordinates:d,setBounds:p,places:s.length?s:e,setChildClicked:u,weatherData:a})})]})]})};l.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(X,{})}),document.getElementById("root"))},99:function(e,t,a){}},[[125,1,2]]]);
//# sourceMappingURL=main.225595e1.chunk.js.map